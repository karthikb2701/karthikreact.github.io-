{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Karthik/Desktop/project/covid19tracker-main/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Karthik/Desktop/project/covid19tracker-main/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:\\\\Users\\\\Karthik\\\\Desktop\\\\project\\\\covid19tracker-main\\\\node_modules\\\\@babel\\\\runtime\\\\regenerator\\\\index.js\";import React,{useEffect,useState}from'react';import{fetchCord,fetchData}from'./api';import Dropdown from'./component/Dropdown';import Graph from'./component/Graph';import Map from'./component/Map';import Nav from'./component/Nav';import CountUp from'react-countup';import'./sass/component/Infobox.scss';import'./sass/component/App.scss';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var App=function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),stateData=_useState2[0],setStateData=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),globalData=_useState4[0],setGlobalData=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),data=_useState6[0],setData=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),mapData=_useState8[0],setMapData=_useState8[1];var _useState9=useState([20.5937,78.9629]),_useState10=_slicedToArray(_useState9,2),cord=_useState10[0],setCord=_useState10[1];var _useState11=useState(5),_useState12=_slicedToArray(_useState11,2),zoom=_useState12[0],setZoom=_useState12[1];var _useState13=useState('confirmedCasesIndian'),_useState14=_slicedToArray(_useState13,2),caseType=_useState14[0],setCaseType=_useState14[1];var arr=[];useEffect(function(){var getData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var _yield$fetchData,regional,_yield$fetchData$summ,confirmedCasesForeign,confirmedCasesIndian,deaths,discharged,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetchData();case 2:_yield$fetchData=_context.sent;regional=_yield$fetchData.regional;_yield$fetchData$summ=_yield$fetchData.summary;confirmedCasesForeign=_yield$fetchData$summ.confirmedCasesForeign;confirmedCasesIndian=_yield$fetchData$summ.confirmedCasesIndian;deaths=_yield$fetchData$summ.deaths;discharged=_yield$fetchData$summ.discharged;_context.next=11;return fetchCord();case 11:data=_context.sent;setMapData(data);setStateData(regional);setGlobalData({confirmedCasesForeign:confirmedCasesForeign,confirmedCasesIndian:confirmedCasesIndian,deaths:deaths,discharged:discharged});setData([confirmedCasesForeign,confirmedCasesIndian,deaths,discharged]);case 16:case\"end\":return _context.stop();}}},_callee);}));return function getData(){return _ref.apply(this,arguments);};}();getData();},[]);useEffect(function(){},[zoom]);stateData.map(function(_ref2,i){var confirmedCasesIndian=_ref2.confirmedCasesIndian,discharged=_ref2.discharged,deaths=_ref2.deaths;arr.push({confirmedCasesIndian:confirmedCasesIndian,discharged:discharged,deaths:deaths});});//If data is not loaded confirmedCasesIndian death discharged\n//handling data\nfunction handleData(event){var value=event.target.value;var arr=value.split(',');if(value=='India'){var deaths=globalData.deaths,recovered=globalData.discharged,active=globalData.confirmedCasesIndian;setData(['op',active,recovered,deaths]);setCord([20.5937,78.9629]);setZoom(5);}else{setData(arr);mapData.filter(function(_ref3){var loc=_ref3.loc,lat=_ref3.lat,lng=_ref3.lng;if(arr[0]==loc){var l1=parseFloat(lat);var l2=parseFloat(lng);setCord([l1,l2]);setZoom(6);}});}}if(globalData.length==[]){return/*#__PURE__*/_jsx(\"h1\",{children:\"Loading..\"});}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Nav,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:['',/*#__PURE__*/_jsxs(\"div\",{className:\"col col--1 \",onClick:function onClick(e){return setCaseType('confirmedCasesIndian');},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"col__header\",children:\"Confirmed\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"col__count\",children:/*#__PURE__*/_jsx(CountUp,{start:0,end:data.length==[]?globalData.discharged:data[1]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"col__location\",children:new Date().toDateString()})]}),'',/*#__PURE__*/_jsxs(\"div\",{className:\"col col--2 \",onClick:function onClick(e){return setCaseType('recovered');},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"col__header\",children:\"Recoverd\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"col__count\",children:/*#__PURE__*/_jsx(CountUp,{start:0,end:data.length==[]?globalData.discharged:data[2]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"col__location\",children:new Date().toDateString()})]}),'',/*#__PURE__*/_jsxs(\"div\",{className:\"col col--3 \",onClick:function onClick(e){return setCaseType('deaths');},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"col__header\",children:\"Deaths\"}),/*#__PURE__*/_jsx(\"h1\",{className:\"col__count\",children:/*#__PURE__*/_jsx(CountUp,{start:0,end:data.length==[]?globalData.discharged:data[3]})}),/*#__PURE__*/_jsx(\"h1\",{className:\"col__location\",children:new Date().toDateString()})]})]}),/*#__PURE__*/_jsx(Dropdown,{handleData:handleData,stateData:stateData}),/*#__PURE__*/_jsx(Graph,{dataG:data})]}),/*#__PURE__*/_jsx(\"div\",{className:\"right shadow-lg\",children:/*#__PURE__*/_jsx(Map,{coords:cord,zoom:zoom,data:mapData,stateData:arr,caseType:caseType})})]})})]});};export default App;","map":{"version":3,"sources":["C:/Users/Karthik/Desktop/project/covid19tracker-main/src/App.jsx"],"names":["React","useEffect","useState","fetchCord","fetchData","Dropdown","Graph","Map","Nav","CountUp","App","stateData","setStateData","globalData","setGlobalData","data","setData","mapData","setMapData","cord","setCord","zoom","setZoom","caseType","setCaseType","arr","getData","regional","summary","confirmedCasesForeign","confirmedCasesIndian","deaths","discharged","map","i","push","handleData","event","value","target","split","recovered","active","filter","loc","lat","lng","l1","parseFloat","l2","length","e","Date","toDateString"],"mappings":"2aAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,SAAT,CAAoBC,SAApB,KAAqC,OAArC,CAEA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,iBAAhB,CACA,MAAOC,CAAAA,OAAP,KAAoB,eAApB,CACA,MAAO,+BAAP,CACA,MAAO,2BAAP,C,wFAEA,GAAMC,CAAAA,GAAG,CAAG,QAANA,CAAAA,GAAM,EAAM,CAChB,cAAkCR,QAAQ,CAAC,EAAD,CAA1C,wCAAOS,SAAP,eAAkBC,YAAlB,eACA,eAAoCV,QAAQ,CAAC,EAAD,CAA5C,yCAAOW,UAAP,eAAmBC,aAAnB,eACA,eAAwBZ,QAAQ,CAAC,EAAD,CAAhC,yCAAOa,IAAP,eAAaC,OAAb,eACA,eAA8Bd,QAAQ,CAAC,EAAD,CAAtC,yCAAOe,OAAP,eAAgBC,UAAhB,eACA,eAAwBhB,QAAQ,CAAC,CAAC,OAAD,CAAU,OAAV,CAAD,CAAhC,0CAAOiB,IAAP,gBAAaC,OAAb,gBACA,gBAAwBlB,QAAQ,CAAC,CAAD,CAAhC,2CAAOmB,IAAP,gBAAaC,OAAb,gBACA,gBAAgCpB,QAAQ,CAAC,sBAAD,CAAxC,2CAAOqB,QAAP,gBAAiBC,WAAjB,gBAEA,GAAMC,CAAAA,GAAG,CAAG,EAAZ,CACAxB,SAAS,CAAC,UAAM,CACd,GAAMyB,CAAAA,OAAO,0FAAG,+QASJtB,CAAAA,SAAS,EATL,uCAEZuB,QAFY,kBAEZA,QAFY,wCAGZC,OAHY,CAIVC,qBAJU,uBAIVA,qBAJU,CAKVC,oBALU,uBAKVA,oBALU,CAMVC,MANU,uBAMVA,MANU,CAOVC,UAPU,uBAOVA,UAPU,wBAUK7B,CAAAA,SAAS,EAVd,SAURY,IAVQ,eAWdG,UAAU,CAACH,IAAD,CAAV,CACAH,YAAY,CAACe,QAAD,CAAZ,CACAb,aAAa,CAAC,CACZe,qBAAqB,CAArBA,qBADY,CAEZC,oBAAoB,CAApBA,oBAFY,CAGZC,MAAM,CAANA,MAHY,CAIZC,UAAU,CAAVA,UAJY,CAAD,CAAb,CAMAhB,OAAO,CAAC,CAACa,qBAAD,CAAwBC,oBAAxB,CAA8CC,MAA9C,CAAsDC,UAAtD,CAAD,CAAP,CAnBc,uDAAH,kBAAPN,CAAAA,OAAO,0CAAb,CAqBAA,OAAO,GACR,CAvBQ,CAuBN,EAvBM,CAAT,CAyBAzB,SAAS,CAAC,UAAM,CAAE,CAAT,CAAW,CAACoB,IAAD,CAAX,CAAT,CACAV,SAAS,CAACsB,GAAV,CAAc,eAA+CC,CAA/C,CAAqD,IAAlDJ,CAAAA,oBAAkD,OAAlDA,oBAAkD,CAA5BE,UAA4B,OAA5BA,UAA4B,CAAhBD,MAAgB,OAAhBA,MAAgB,CACjEN,GAAG,CAACU,IAAJ,CAAS,CAAEL,oBAAoB,CAApBA,oBAAF,CAAwBE,UAAU,CAAVA,UAAxB,CAAoCD,MAAM,CAANA,MAApC,CAAT,EACD,CAFD,EAGA;AAEA;AACA,QAASK,CAAAA,UAAT,CAAoBC,KAApB,CAA2B,CACzB,GAAMC,CAAAA,KAAK,CAAGD,KAAK,CAACE,MAAN,CAAaD,KAA3B,CACA,GAAMb,CAAAA,GAAG,CAAGa,KAAK,CAACE,KAAN,CAAY,GAAZ,CAAZ,CAEA,GAAIF,KAAK,EAAI,OAAb,CAAsB,CACpB,GACUP,CAAAA,MADV,CAIIlB,UAJJ,CACEkB,MADF,CAEcU,SAFd,CAII5B,UAJJ,CAEEmB,UAFF,CAGwBU,MAHxB,CAII7B,UAJJ,CAGEiB,oBAHF,CAKAd,OAAO,CAAC,CAAC,IAAD,CAAO0B,MAAP,CAAeD,SAAf,CAA0BV,MAA1B,CAAD,CAAP,CACAX,OAAO,CAAC,CAAC,OAAD,CAAU,OAAV,CAAD,CAAP,CACAE,OAAO,CAAC,CAAD,CAAP,CACD,CATD,IASO,CACLN,OAAO,CAACS,GAAD,CAAP,CACAR,OAAO,CAAC0B,MAAR,CAAe,eAAuB,IAApBC,CAAAA,GAAoB,OAApBA,GAAoB,CAAfC,GAAe,OAAfA,GAAe,CAAVC,GAAU,OAAVA,GAAU,CACpC,GAAIrB,GAAG,CAAC,CAAD,CAAH,EAAUmB,GAAd,CAAmB,CACjB,GAAMG,CAAAA,EAAE,CAAGC,UAAU,CAACH,GAAD,CAArB,CACA,GAAMI,CAAAA,EAAE,CAAGD,UAAU,CAACF,GAAD,CAArB,CACA1B,OAAO,CAAC,CAAC2B,EAAD,CAAKE,EAAL,CAAD,CAAP,CACA3B,OAAO,CAAC,CAAD,CAAP,CACD,CACF,CAPD,EAQD,CACF,CAED,GAAIT,UAAU,CAACqC,MAAX,EAAqB,EAAzB,CAA6B,CAC3B,mBAAO,iCAAP,CACD,CAED,mBACE,oCAGE,KAAC,GAAD,IAHF,cAIE,YAAK,SAAS,CAAC,MAAf,uBACE,aAAK,SAAS,CAAC,SAAf,wBACE,aAAK,SAAS,CAAC,MAAf,wBAGE,aAAK,SAAS,CAAC,KAAf,WACG,EADH,cAGE,aACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,iBAACC,CAAD,QAAO3B,CAAAA,WAAW,CAAC,sBAAD,CAAlB,EAFX,wBAIE,WAAI,SAAS,CAAC,aAAd,uBAJF,cAKE,WAAI,SAAS,CAAC,YAAd,uBACE,KAAC,OAAD,EACE,KAAK,CAAE,CADT,CAEE,GAAG,CAAET,IAAI,CAACmC,MAAL,EAAe,EAAf,CAAoBrC,UAAU,CAACmB,UAA/B,CAA4CjB,IAAI,CAAC,CAAD,CAFvD,EADF,EALF,cAWE,WAAI,SAAS,CAAC,eAAd,UAA+B,GAAIqC,CAAAA,IAAJ,GAAWC,YAAX,EAA/B,EAXF,GAHF,CAiBG,EAjBH,cAmBE,aACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,iBAACF,CAAD,QAAO3B,CAAAA,WAAW,CAAC,WAAD,CAAlB,EAFX,wBAIE,WAAI,SAAS,CAAC,aAAd,sBAJF,cAKE,WAAI,SAAS,CAAC,YAAd,uBACE,KAAC,OAAD,EACE,KAAK,CAAE,CADT,CAEE,GAAG,CAAET,IAAI,CAACmC,MAAL,EAAe,EAAf,CAAoBrC,UAAU,CAACmB,UAA/B,CAA4CjB,IAAI,CAAC,CAAD,CAFvD,EADF,EALF,cAWE,WAAI,SAAS,CAAC,eAAd,UAA+B,GAAIqC,CAAAA,IAAJ,GAAWC,YAAX,EAA/B,EAXF,GAnBF,CAiCG,EAjCH,cAmCE,aACE,SAAS,CAAC,aADZ,CAEE,OAAO,CAAE,iBAACF,CAAD,QAAO3B,CAAAA,WAAW,CAAC,QAAD,CAAlB,EAFX,wBAIE,WAAI,SAAS,CAAC,aAAd,oBAJF,cAKE,WAAI,SAAS,CAAC,YAAd,uBACE,KAAC,OAAD,EACE,KAAK,CAAE,CADT,CAEE,GAAG,CAAET,IAAI,CAACmC,MAAL,EAAe,EAAf,CAAoBrC,UAAU,CAACmB,UAA/B,CAA4CjB,IAAI,CAAC,CAAD,CAFvD,EADF,EALF,cAWE,WAAI,SAAS,CAAC,eAAd,UAA+B,GAAIqC,CAAAA,IAAJ,GAAWC,YAAX,EAA/B,EAXF,GAnCF,GAHF,cAsDE,KAAC,QAAD,EAAU,UAAU,CAAEjB,UAAtB,CAAkC,SAAS,CAAEzB,SAA7C,EAtDF,cAyDE,KAAC,KAAD,EAAO,KAAK,CAAEI,IAAd,EAzDF,GADF,cA6DE,YAAK,SAAS,CAAC,iBAAf,uBAEE,KAAC,GAAD,EACE,MAAM,CAAEI,IADV,CAEE,IAAI,CAAEE,IAFR,CAGE,IAAI,CAAEJ,OAHR,CAIE,SAAS,CAAEQ,GAJb,CAKE,QAAQ,CAAEF,QALZ,EAFF,EA7DF,GADF,EAJF,GADF,CAiFD,CAzJD,CA2JA,cAAeb,CAAAA,GAAf","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { fetchCord, fetchData } from './api'\n\nimport Dropdown from './component/Dropdown'\nimport Graph from './component/Graph'\nimport Map from './component/Map'\nimport Nav from './component/Nav'\nimport CountUp from 'react-countup'\nimport './sass/component/Infobox.scss'\nimport './sass/component/App.scss'\n\nconst App = () => {\n  const [stateData, setStateData] = useState([])\n  const [globalData, setGlobalData] = useState([])\n  const [data, setData] = useState([])\n  const [mapData, setMapData] = useState([])\n  const [cord, setCord] = useState([20.5937, 78.9629])\n  const [zoom, setZoom] = useState(5)\n  const [caseType, setCaseType] = useState('confirmedCasesIndian')\n\n  const arr = []\n  useEffect(() => {\n    const getData = async () => {\n      const {\n        regional,\n        summary: {\n          confirmedCasesForeign,\n          confirmedCasesIndian,\n          deaths,\n          discharged,\n        },\n      } = await fetchData()\n      const data = await fetchCord()\n      setMapData(data)\n      setStateData(regional)\n      setGlobalData({\n        confirmedCasesForeign,\n        confirmedCasesIndian,\n        deaths,\n        discharged,\n      })\n      setData([confirmedCasesForeign, confirmedCasesIndian, deaths, discharged])\n    }\n    getData()\n  }, [])\n\n  useEffect(() => {}, [zoom])\n  stateData.map(({ confirmedCasesIndian, discharged, deaths }, i) => {\n    arr.push({ confirmedCasesIndian, discharged, deaths })\n  })\n  //If data is not loaded confirmedCasesIndian death discharged\n\n  //handling data\n  function handleData(event) {\n    const value = event.target.value\n    const arr = value.split(',')\n\n    if (value == 'India') {\n      const {\n        deaths: deaths,\n        discharged: recovered,\n        confirmedCasesIndian: active,\n      } = globalData\n      setData(['op', active, recovered, deaths])\n      setCord([20.5937, 78.9629])\n      setZoom(5)\n    } else {\n      setData(arr)\n      mapData.filter(({ loc, lat, lng }) => {\n        if (arr[0] == loc) {\n          const l1 = parseFloat(lat)\n          const l2 = parseFloat(lng)\n          setCord([l1, l2])\n          setZoom(6)\n        }\n      })\n    }\n  }\n\n  if (globalData.length == []) {\n    return <h1>Loading..</h1>\n  }\n\n  return (\n    <div>\n      {/* Header  */}\n\n      <Nav />\n      <div className=\"main\">\n        <div className=\"content\">\n          <div className=\"left\">\n            {/* INFOBOX */}\n\n            <div className=\"row\">\n              {''}\n              {/*Confirmed*/}\n              <div\n                className=\"col col--1 \"\n                onClick={(e) => setCaseType('confirmedCasesIndian')}\n              >\n                <h1 className=\"col__header\">Confirmed</h1>\n                <h1 className=\"col__count\">\n                  <CountUp\n                    start={0}\n                    end={data.length == [] ? globalData.discharged : data[1]}\n                  />\n                </h1>\n                <h1 className=\"col__location\">{new Date().toDateString()}</h1>\n              </div>\n\n              {''}\n              {/*Recovered*/}\n              <div\n                className=\"col col--2 \"\n                onClick={(e) => setCaseType('recovered')}\n              >\n                <h1 className=\"col__header\">Recoverd</h1>\n                <h1 className=\"col__count\">\n                  <CountUp\n                    start={0}\n                    end={data.length == [] ? globalData.discharged : data[2]}\n                  />\n                </h1>\n                <h1 className=\"col__location\">{new Date().toDateString()}</h1>\n              </div>\n\n              {''}\n              {/*Deaths*/}\n              <div\n                className=\"col col--3 \"\n                onClick={(e) => setCaseType('deaths')}\n              >\n                <h1 className=\"col__header\">Deaths</h1>\n                <h1 className=\"col__count\">\n                  <CountUp\n                    start={0}\n                    end={data.length == [] ? globalData.discharged : data[3]}\n                  />\n                </h1>\n                <h1 className=\"col__location\">{new Date().toDateString()}</h1>\n              </div>\n            </div>\n\n            {/*DROPDOWN*/}\n            <Dropdown handleData={handleData} stateData={stateData} />\n\n            {/* Graph */}\n            <Graph dataG={data} />\n          </div>\n\n          <div className=\"right shadow-lg\">\n            {/* Map */}\n            <Map\n              coords={cord}\n              zoom={zoom}\n              data={mapData}\n              stateData={arr}\n              caseType={caseType}\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}